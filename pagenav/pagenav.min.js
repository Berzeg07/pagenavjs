!function(g){g.fn.pagenavjs=function(n){n=g.extend({navContainer:void 0,pageSize:void 0,dataSource:void 0},n);return this.each(function(){var p=g(this),a=g(n.navContainer),r=n.dataSource;g(a).addClass("pagenavjs-navigate-wrap"),g(a).html('<ul class="pagenavjs-navigate"></ul>'),g(a).prepend('<button class="pagenavjs-button pagenavjs-prev"></button>'),g(a).append('<button class="pagenavjs-button pagenavjs-next"></button>');var v=g(".pagenavjs-navigate"),c=n.pageSize,l=Math.ceil(r.length/c),o=[];function u(){g(v).append('<li class="pagenavjs-ellipsis">...</li>')}function e(a){var e,n=g(".pagenavjs-navigate li.active");(e="next"==a?g(n).next():g(n).prev())&&e.click()}function d(a,e,n){var t=g(e),i=document.createElement("li");i.innerHTML=a,g(t).append(i),n?(g(t).append(i),i.classList.add("pagenavjs-page"),o.push(i)):i.classList.add("pagenavjs-ellipsis")}function f(a){var e=document.querySelector(".pagenavjs-page.active");e&&e.classList.remove("active"),(e=a).classList.add("active");var n=(+a.innerHTML-1)*c,t=n+c,i=r.slice(n,t);g(p).html("");var s=i.join("");g(p).html(s)}!function(a){o=[];var e=a;if(g(v).html(""),l<=10)for(var n=1;n<=l;n++)d(n,v,!0);else for(n=1;n<=l;n++)(n<=e||n==l)&&d(n,v,!0),n==l-2&&d("...",v,!1)}(5),g(v).on("click","li",function(a){var e=a.target;if("LI"==e.tagName&&"..."!=e.innerHTML){var n=Number(e.innerHTML)-1;if(o=[],g(v).html(""),l<=10)for(var t=1;t<=l;t++)d(t,v,!0);else{if(n<3)for(t=1;t<=l;t++)(t<=5||t==l)&&d(t,v,!0),t==l-2&&d("...",v,!1);if(3<=n&&n<=6)for(t=1;t<=l;t++)(t<=3+n||t==l)&&d(t,v,!0),t==l-2&&d("...",v,!1);if(6<n&&n<l-4){for(t=1;t<=l;t++){(i=document.createElement("li")).innerHTML=t,o.push(i)}for(t=1;t<=l;t++){1==t&&g(v).append(o[0]),2==t&&u(),t!=n-2&&t!=n-1&&t!=n&&t!=2+n&&t!=1+n||(s=o[t],g(v).append(s)),t==l-1&&u(),t==l&&(s=o[t-1],g(v).append(s))}}if(l-4<=n){for(var i,t=1;t<=l;t++){(i=document.createElement("li")).innerHTML=t,o.push(i)}for(var s,t=1;t<=l;t++){1==t&&g(v).append(o[0]),2==t&&u(),(t==n-2||t==n-1||t==n||+n<t)&&(s=o[t-1],g(v).append(s))}}}f(o[n])}}),g(".pagenavjs-button").click(function(){g(this).hasClass("pagenavjs-next")?e("next"):g(this).hasClass("pagenavjs-prev")&&e("prev")}),f(o[0])})}}(jQuery);
